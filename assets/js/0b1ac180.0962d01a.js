"use strict";(globalThis.webpackChunkspectre_docs=globalThis.webpackChunkspectre_docs||[]).push([[5863],{6264:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"architecture/overview","title":"Architecture Overview","description":"High-level architecture of Spectre\'s event monitoring system","source":"@site/docs/architecture/overview.md","sourceDirName":"architecture","slug":"/architecture/overview","permalink":"/spectre/docs/architecture/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/moolen/spectre/tree/master/docs/docs/architecture/overview.md","tags":[],"version":"current","lastUpdatedBy":"Moritz Johner","lastUpdatedAt":1765616329000,"frontMatter":{"title":"Architecture Overview","description":"High-level architecture of Spectre\'s event monitoring system","keywords":["architecture","design","system","components","overview"]},"sidebar":"docsSidebar","previous":{"title":"Architecture","permalink":"/spectre/docs/architecture/"},"next":{"title":"Storage Design","permalink":"/spectre/docs/architecture/storage-design"}}');var s=i(4848),t=i(8453);const l={title:"Architecture Overview",description:"High-level architecture of Spectre's event monitoring system",keywords:["architecture","design","system","components","overview"]},c="Architecture Overview",d={},o=[{value:"System Purpose",id:"system-purpose",level:2},{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"Core Components",id:"core-components",level:2},{value:"1. Watcher Component",id:"1-watcher-component",level:3},{value:"2. Storage Component",id:"2-storage-component",level:3},{value:"3. Query Engine",id:"3-query-engine",level:3},{value:"4. HTTP API Server",id:"4-http-api-server",level:3},{value:"5. MCP Server (Optional)",id:"5-mcp-server-optional",level:3},{value:"Data Flow",id:"data-flow",level:2},{value:"Write Path (Events \u2192 Storage)",id:"write-path-events--storage",level:3},{value:"Read Path (Query \u2192 Results)",id:"read-path-query--results",level:3},{value:"Performance Characteristics",id:"performance-characteristics",level:2},{value:"Storage Efficiency",id:"storage-efficiency",level:3},{value:"Query Performance",id:"query-performance",level:3},{value:"Memory Usage",id:"memory-usage",level:3},{value:"Throughput",id:"throughput",level:3},{value:"Scalability Considerations",id:"scalability-considerations",level:2},{value:"Current Design: Single-Writer, Multi-Reader",id:"current-design-single-writer-multi-reader",level:3},{value:"Future Enhancements",id:"future-enhancements",level:3},{value:"Design Principles",id:"design-principles",level:2},{value:"1. Write-Optimized",id:"1-write-optimized",level:3},{value:"2. Index-Heavy",id:"2-index-heavy",level:3},{value:"3. Compression-First",id:"3-compression-first",level:3},{value:"4. Immutable Files",id:"4-immutable-files",level:3},{value:"5. Time-Partitioned",id:"5-time-partitioned",level:3},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Core Libraries",id:"core-libraries",level:3},{value:"Language",id:"language",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,s.jsx)(n.p,{children:"Spectre is a Kubernetes event monitoring system that captures all resource changes across a cluster and provides fast, queryable access to historical data through efficient storage and indexing."}),"\n",(0,s.jsx)(n.h2,{id:"system-purpose",children:"System Purpose"}),"\n",(0,s.jsxs)(n.p,{children:["Spectre solves the problem of understanding ",(0,s.jsx)(n.em,{children:"what happened"})," in a Kubernetes cluster:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Incident investigation"})," - Reconstruct timelines from events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Post-mortem analysis"})," - Analyze root causes with complete history"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Deployment tracking"})," - Monitor rollouts and detect issues early"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compliance auditing"})," - Record all resource modifications"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Unlike traditional logging or metrics systems, Spectre focuses on ",(0,s.jsx)(n.strong,{children:"resource lifecycle events"})," - the who, what, when, and why of every Kubernetes object change."]}),"\n",(0,s.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Spectre Event Monitoring System                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502  \u2502  K8s Watcher \u2502  \u2502 K8s Watcher  \u2502  \u2502 K8s Watcher  \u2502      \u2502\n\u2502  \u2502  (Pods)      \u2502  \u2502 (Deployments)\u2502  \u2502  (Services)  \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                            \u2502 Events                          \u2502\n\u2502                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502                   \u2502  Event Queue    \u2502                        \u2502\n\u2502                   \u2502 (Concurrent)    \u2502                        \u2502\n\u2502                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502                            \u2502                                 \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n\u2502              \u2502 Pruning & Validation      \u2502                  \u2502\n\u2502              \u2502 (Remove managedFields)    \u2502                  \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                            \u2502 Events                          \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n\u2502              \u2502  Storage Layer            \u2502                  \u2502\n\u2502              \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502                  \u2502\n\u2502              \u2502  \u2502 Hourly Files         \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u251c\u2500 File Header      \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u251c\u2500 Blocks           \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502  \u251c\u2500 Compressed    \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502  \u2502   Data         \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502  \u2514\u2500 Metadata      \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u251c\u2500 Index Section    \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502  \u251c\u2500 Timestamp     \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502  \u2502   Index        \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502  \u2514\u2500 Inverted      \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2502      Index        \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2502  \u2514\u2500 File Footer      \u2502 \u2502                  \u2502\n\u2502              \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502                  \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                           \u2502                                 \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502              \u2502  Query Engine           \u2502                   \u2502\n\u2502              \u2502  \u251c\u2500 File Selection      \u2502                   \u2502\n\u2502              \u2502  \u251c\u2500 Block Filtering     \u2502                   \u2502\n\u2502              \u2502  \u251c\u2500 Decompression       \u2502                   \u2502\n\u2502              \u2502  \u2514\u2500 Result Aggregation  \u2502                   \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2502                           \u2502 Query Results                   \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502              \u2502  HTTP API Server        \u2502                   \u2502\n\u2502              \u2502  /api/search            \u2502                   \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,s.jsx)(n.h3,{id:"1-watcher-component",children:"1. Watcher Component"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Capture Kubernetes resource changes in real-time"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location"}),": ",(0,s.jsx)(n.code,{children:"internal/watcher/"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Responsibilities"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Establish watches on configured resource types (Pods, Deployments, Services, etc.)"}),"\n",(0,s.jsx)(n.li,{children:"Receive ADD, UPDATE, DELETE events from Kubernetes API"}),"\n",(0,s.jsx)(n.li,{children:"Buffer events in concurrent queue for batch processing"}),"\n",(0,s.jsxs)(n.li,{children:["Prune large metadata fields (",(0,s.jsx)(n.code,{children:"managedFields"}),") to reduce size"]}),"\n",(0,s.jsx)(n.li,{children:"Validate events before passing to storage"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Parallel watches for multiple resource types"}),"\n",(0,s.jsx)(n.li,{children:"Concurrent event handling without loss"}),"\n",(0,s.jsx)(n.li,{children:"80-90% size reduction through field pruning"}),"\n",(0,s.jsx)(n.li,{children:"Configurable resource type selection via YAML"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Related"}),": ",(0,s.jsx)(n.a,{href:"/spectre/docs/configuration/watcher-config",children:"Watcher Configuration"})]}),"\n",(0,s.jsx)(n.h3,{id:"2-storage-component",children:"2. Storage Component"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Persist events with compression and indexing for fast retrieval"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location"}),": ",(0,s.jsx)(n.code,{children:"internal/storage/"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Responsibilities"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Organize events into hourly files (immutable after hour completion)"}),"\n",(0,s.jsx)(n.li,{children:"Compress events into fixed-size blocks (default 256KB)"}),"\n",(0,s.jsx)(n.li,{children:"Build inverted indexes for multi-dimensional filtering"}),"\n",(0,s.jsx)(n.li,{children:"Create sparse timestamp index for binary search"}),"\n",(0,s.jsx)(n.li,{children:"Manage file lifecycle and retention policies"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"90%+ compression ratio (gzip on JSON events)"}),"\n",(0,s.jsx)(n.li,{children:"Block-based storage enables selective decompression"}),"\n",(0,s.jsx)(n.li,{children:"Inverted indexes skip 50-90% of blocks during queries"}),"\n",(0,s.jsx)(n.li,{children:"MD5 checksums for data integrity validation"}),"\n",(0,s.jsx)(n.li,{children:"Format versioning for backward compatibility"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Related"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/storage-design",children:"Storage Design"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/block-format",children:"Block Format"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/indexing-strategy",children:"Indexing Strategy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/compression",children:"Compression"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-query-engine",children:"3. Query Engine"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Execute fast queries with filtering and optimization"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location"}),": ",(0,s.jsx)(n.code,{children:"internal/storage/query.go"}),", ",(0,s.jsx)(n.code,{children:"internal/storage/filters.go"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Responsibilities"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Select relevant files based on time window"}),"\n",(0,s.jsx)(n.li,{children:"Use sparse index for binary search of timestamps"}),"\n",(0,s.jsx)(n.li,{children:"Apply inverted indexes to skip non-matching blocks"}),"\n",(0,s.jsx)(n.li,{children:"Decompress only candidate blocks"}),"\n",(0,s.jsx)(n.li,{children:"Filter events by resource attributes"}),"\n",(0,s.jsx)(n.li,{children:"Aggregate results from multiple files/blocks"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"O(log N) timestamp lookups in sparse index"}),"\n",(0,s.jsx)(n.li,{children:"50-90% block skipping through inverted indexes"}),"\n",(0,s.jsx)(n.li,{children:"Parallel file reading for multi-day queries"}),"\n",(0,s.jsx)(n.li,{children:"Early termination when result limits reached"}),"\n",(0,s.jsx)(n.li,{children:"AND semantics for multi-filter queries"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Related"}),": ",(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/query-execution",children:"Query Execution"})]}),"\n",(0,s.jsx)(n.h3,{id:"4-http-api-server",children:"4. HTTP API Server"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Provide queryable interface for event retrieval"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location"}),": ",(0,s.jsx)(n.code,{children:"internal/api/"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Responsibilities"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Expose ",(0,s.jsx)(n.code,{children:"/api/search"})," endpoint for time-windowed queries"]}),"\n",(0,s.jsx)(n.li,{children:"Validate query parameters (time range, filters)"}),"\n",(0,s.jsx)(n.li,{children:"Format results as JSON with execution metrics"}),"\n",(0,s.jsx)(n.li,{children:"Handle CORS and request authentication"}),"\n",(0,s.jsx)(n.li,{children:"Serve static UI assets"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"API Specification"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'GET /api/search\n\nQuery Parameters:\n  start (required)    : Unix timestamp (seconds or milliseconds)\n  end (required)      : Unix timestamp (seconds or milliseconds)\n  kind (optional)     : Resource kind (e.g., "Pod", "Deployment")\n  namespace (optional): Kubernetes namespace\n  group (optional)    : API group (e.g., "apps")\n  version (optional)  : API version (e.g., "v1")\n\nResponse:\n{\n  "events": [...],                 // Array of matching events\n  "count": 100,                    // Total events returned\n  "executionTimeMs": 45,           // Query execution time\n  "filesSearched": 24,             // Files accessed\n  "segmentsScanned": 12,           // Blocks decompressed\n  "segmentsSkipped": 88            // Blocks skipped via index\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Related"}),": ",(0,s.jsx)(n.a,{href:"/spectre/docs/user-guide/",children:"User Guide"})]}),"\n",(0,s.jsx)(n.h3,{id:"5-mcp-server-optional",children:"5. MCP Server (Optional)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Enable AI-assisted investigations through Model Context Protocol"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Location"}),": ",(0,s.jsx)(n.code,{children:"internal/mcp/"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Responsibilities"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Expose 4 investigation tools (cluster_health, resource_changes, investigate, resource_explorer)"}),"\n",(0,s.jsx)(n.li,{children:"Provide 2 structured prompts (post-mortem analysis, live incident handling)"}),"\n",(0,s.jsx)(n.li,{children:"Translate natural language queries to API calls"}),"\n",(0,s.jsx)(n.li,{children:"Format responses for LLM consumption"}),"\n",(0,s.jsx)(n.li,{children:"Support HTTP and stdio transports"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Conversational incident investigation with Claude"}),"\n",(0,s.jsx)(n.li,{children:"Automated event correlation and timeline reconstruction"}),"\n",(0,s.jsx)(n.li,{children:"Structured post-mortem report generation"}),"\n",(0,s.jsx)(n.li,{children:"Read-only access (no cluster modifications)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Related"}),": ",(0,s.jsx)(n.a,{href:"/spectre/docs/mcp-integration/",children:"MCP Integration"})]}),"\n",(0,s.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,s.jsx)(n.h3,{id:"write-path-events--storage",children:"Write Path (Events \u2192 Storage)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Kubernetes Event\n    \u2193\nWatcher receives (ADD/UPDATE/DELETE)\n    \u2193\nEvent Queue (concurrent buffer)\n    \u2193\nPruning (remove managedFields, ~80% size reduction)\n    \u2193\nValidation (check required fields)\n    \u2193\nStorage Write\n    \u251c\u2500 Accumulate in EventBuffer\n    \u251c\u2500 When buffer full (256KB default):\n    \u2502   \u251c\u2500 Create Block\n    \u2502   \u251c\u2500 Compress with gzip (~90% reduction)\n    \u2502   \u251c\u2500 Create metadata (bloom filters, sets)\n    \u2502   \u251c\u2500 Compute checksum (MD5)\n    \u2502   \u2514\u2500 Write block to hourly file\n    \u2514\u2500\n    When hourly boundary crossed:\n    \u251c\u2500 Build inverted indexes (kind \u2192 blocks, namespace \u2192 blocks, group \u2192 blocks)\n    \u251c\u2500 Create index section (JSON)\n    \u251c\u2500 Write file footer\n    \u2514\u2500 Seal file (immutable, enables concurrent reads)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Throughput"}),": 139K events/sec sustained write rate"]}),"\n",(0,s.jsx)(n.h3,{id:"read-path-query--results",children:"Read Path (Query \u2192 Results)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"HTTP API Request\n    \u2193\nValidate parameters (time range, filters)\n    \u2193\nSelect files by time window (hourly granularity)\n    \u2193\nFor each file:\n    \u251c\u2500 Load header/footer (metadata)\n    \u251c\u2500 Load index section (sparse + inverted)\n    \u251c\u2500 Binary search timestamp index\n    \u251c\u2500 Intersect inverted indexes (kind \u2229 namespace \u2229 group)\n    \u251c\u2500 Skip non-matching blocks (50-90% reduction)\n    \u251c\u2500 Decompress candidate blocks\n    \u251c\u2500 Validate checksums\n    \u251c\u2500 Filter events by exact match\n    \u2514\u2500 Aggregate results\n    \u2193\nCombine results from all files\n    \u2193\nSort by timestamp (ascending)\n    \u2193\nFormat response (JSON with metrics)\n    \u2193\nReturn to client\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Latency"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Single hour (no filters): <50ms"}),"\n",(0,s.jsx)(n.li,{children:"Single hour (with filters): 10-20ms"}),"\n",(0,s.jsx)(n.li,{children:"24-hour window: 100-500ms"}),"\n",(0,s.jsx)(n.li,{children:"7-day window: <2s"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"performance-characteristics",children:"Performance Characteristics"}),"\n",(0,s.jsx)(n.h3,{id:"storage-efficiency",children:"Storage Efficiency"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Metric"}),(0,s.jsx)(n.th,{children:"Value"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Compression ratio"}),(0,s.jsx)(n.td,{children:"7-10%"}),(0,s.jsx)(n.td,{children:"90-93% reduction via gzip"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Raw event size"}),(0,s.jsx)(n.td,{children:"~2KB avg"}),(0,s.jsx)(n.td,{children:"Depends on resource type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Compressed event"}),(0,s.jsx)(n.td,{children:"~200 bytes"}),(0,s.jsx)(n.td,{children:"After gzip compression"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Block size"}),(0,s.jsx)(n.td,{children:"256KB"}),(0,s.jsx)(n.td,{children:"Configurable (32KB-1MB)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Events per block"}),(0,s.jsx)(n.td,{children:"~200-300"}),(0,s.jsx)(n.td,{children:"Varies by resource type"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Index overhead"}),(0,s.jsx)(n.td,{children:"~1%"}),(0,s.jsx)(n.td,{children:"Inverted indexes + bloom filters"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bloom filter size"}),(0,s.jsx)(n.td,{children:"~18KB/block"}),(0,s.jsx)(n.td,{children:"5% false positive rate"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"query-performance",children:"Query Performance"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scenario"}),(0,s.jsx)(n.th,{children:"Latency"}),(0,s.jsx)(n.th,{children:"Files"}),(0,s.jsx)(n.th,{children:"Blocks"}),(0,s.jsx)(n.th,{children:"Optimization"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1-hour window (no filters)"}),(0,s.jsx)(n.td,{children:"<50ms"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"All (~300)"}),(0,s.jsx)(n.td,{children:"Minimal skipping"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1-hour window (kind filter)"}),(0,s.jsx)(n.td,{children:"10-20ms"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"~30 (10%)"}),(0,s.jsx)(n.td,{children:"Inverted index"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1-hour window (kind + ns)"}),(0,s.jsx)(n.td,{children:"5-10ms"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"~5 (2%)"}),(0,s.jsx)(n.td,{children:"Multi-index intersection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"24-hour window (filtered)"}),(0,s.jsx)(n.td,{children:"100-200ms"}),(0,s.jsx)(n.td,{children:"24"}),(0,s.jsx)(n.td,{children:"~120 (5%)"}),(0,s.jsx)(n.td,{children:"Parallel reads"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"7-day window (filtered)"}),(0,s.jsx)(n.td,{children:"<2s"}),(0,s.jsx)(n.td,{children:"168"}),(0,s.jsx)(n.td,{children:"~500 (3%)"}),(0,s.jsx)(n.td,{children:"Parallel + early termination"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"memory-usage",children:"Memory Usage"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Memory"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Base application"}),(0,s.jsx)(n.td,{children:"~50MB"}),(0,s.jsx)(n.td,{children:"Runtime overhead"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Per file loaded"}),(0,s.jsx)(n.td,{children:"~10MB"}),(0,s.jsx)(n.td,{children:"Headers + indexes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Per decompressed block"}),(0,s.jsx)(n.td,{children:"~256KB"}),(0,s.jsx)(n.td,{children:"Configurable block size"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Event queue buffer"}),(0,s.jsx)(n.td,{children:"~100MB"}),(0,s.jsx)(n.td,{children:"Configurable, high-throughput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Total (typical)"}),(0,s.jsx)(n.td,{children:"~200MB"}),(0,s.jsx)(n.td,{children:"For active query workload"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"throughput",children:"Throughput"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Operation"}),(0,s.jsx)(n.th,{children:"Rate"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Event ingestion"}),(0,s.jsx)(n.td,{children:"139K events/sec"}),(0,s.jsx)(n.td,{children:"Sustained write throughput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Compression"}),(0,s.jsx)(n.td,{children:">100MB/sec"}),(0,s.jsx)(n.td,{children:"Gzip via klauspost/compress"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Decompression"}),(0,s.jsx)(n.td,{children:">100MB/sec"}),(0,s.jsx)(n.td,{children:"Parallel block reads"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Index lookup"}),(0,s.jsx)(n.td,{children:"<1ms"}),(0,s.jsx)(n.td,{children:"O(log N) binary search"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Block skip rate"}),(0,s.jsx)(n.td,{children:"50-90%"}),(0,s.jsx)(n.td,{children:"With inverted indexes"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"scalability-considerations",children:"Scalability Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"current-design-single-writer-multi-reader",children:"Current Design: Single-Writer, Multi-Reader"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Write Path"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"One Spectre instance per cluster captures events"}),"\n",(0,s.jsx)(n.li,{children:"Events written to local storage (PersistentVolume)"}),"\n",(0,s.jsx)(n.li,{children:"Hourly files sealed after completion (immutable)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Read Path"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Multiple replicas can read same files concurrently"}),"\n",(0,s.jsx)(n.li,{children:"File immutability enables safe parallel access"}),"\n",(0,s.jsx)(n.li,{children:"No coordination required between readers"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Limitations"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Single writer per cluster (no horizontal write scaling)"}),"\n",(0,s.jsx)(n.li,{children:"Storage limited to single PV capacity"}),"\n",(0,s.jsx)(n.li,{children:"All data on one node (no distribution)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Multi-Writer Sharding"})," (planned):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Shard by namespace or resource type"}),"\n",(0,s.jsx)(n.li,{children:"Each writer handles subset of cluster"}),"\n",(0,s.jsx)(n.li,{children:"Coordinated via consistent hashing"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Distributed Storage"})," (planned):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"S3-compatible object storage backend"}),"\n",(0,s.jsx)(n.li,{children:"Decoupled storage from compute"}),"\n",(0,s.jsx)(n.li,{children:"Multi-region replication"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Query Federation"})," (planned):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Query across multiple clusters"}),"\n",(0,s.jsx)(n.li,{children:"Aggregate results from federated sources"}),"\n",(0,s.jsx)(n.li,{children:"Unified timeline view"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"design-principles",children:"Design Principles"}),"\n",(0,s.jsx)(n.h3,{id:"1-write-optimized",children:"1. Write-Optimized"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Events are written once, read many times"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Batch writes into blocks for efficiency"}),"\n",(0,s.jsx)(n.li,{children:"Immutable files after sealing"}),"\n",(0,s.jsx)(n.li,{children:"No in-place updates or deletions"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-index-heavy",children:"2. Index-Heavy"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Build rich indexes at write time for fast queries"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Inverted indexes enable block skipping"}),"\n",(0,s.jsx)(n.li,{children:"Sparse timestamp index enables binary search"}),"\n",(0,s.jsx)(n.li,{children:"Bloom filters reduce false positives"}),"\n",(0,s.jsx)(n.li,{children:"Trade index build time (~500ms) for query speed (10-50ms)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-compression-first",children:"3. Compression-First"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Storage is cheap, decompression is fast"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"90%+ compression via gzip"}),"\n",(0,s.jsx)(n.li,{children:"Block-based compression enables selective decompression"}),"\n",(0,s.jsx)(n.li,{children:"Only decompress candidate blocks (50-90% skipped)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-immutable-files",children:"4. Immutable Files"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Once sealed, files never change"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enables concurrent reads without locking"}),"\n",(0,s.jsx)(n.li,{children:"Simplifies retention and backup"}),"\n",(0,s.jsx)(n.li,{children:"Atomic file replacement for reliability"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-time-partitioned",children:"5. Time-Partitioned"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Hourly files map to natural query patterns"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Most queries target recent time windows (hours/days)"}),"\n",(0,s.jsx)(n.li,{children:"Time-based retention is straightforward"}),"\n",(0,s.jsx)(n.li,{children:"Immutable hourly files enable simple cleanup"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,s.jsx)(n.h3,{id:"core-libraries",children:"Core Libraries"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Library"}),(0,s.jsx)(n.th,{children:"Purpose"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes client"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"k8s.io/client-go"})}),(0,s.jsx)(n.td,{children:"Watch resource changes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Compression"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"klauspost/compress/gzip"})}),(0,s.jsx)(n.td,{children:"Fast gzip implementation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bloom filters"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bits-and-blooms/bloom/v3"})}),(0,s.jsx)(n.td,{children:"Probabilistic set membership"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"HTTP server"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"net/http"})," (stdlib)"]}),(0,s.jsx)(n.td,{children:"API and UI serving"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"JSON parsing"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"encoding/json"})," (stdlib)"]}),(0,s.jsx)(n.td,{children:"Event serialization"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Checksum"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"crypto/md5"})," (stdlib)"]}),(0,s.jsx)(n.td,{children:"Block integrity validation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"MCP protocol"}),(0,s.jsx)(n.td,{children:"Custom JSON-RPC 2.0"}),(0,s.jsx)(n.td,{children:"AI assistant integration"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"language",children:"Language"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Go 1.21+"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"High-performance I/O"}),"\n",(0,s.jsx)(n.li,{children:"Excellent concurrency primitives (goroutines, channels)"}),"\n",(0,s.jsx)(n.li,{children:"Static binaries for easy deployment"}),"\n",(0,s.jsx)(n.li,{children:"Low memory overhead"}),"\n",(0,s.jsx)(n.li,{children:"Rich Kubernetes ecosystem"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/storage-design",children:"Storage Design"})," - File organization and block structure"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/block-format",children:"Block Format"})," - Binary format specification"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/indexing-strategy",children:"Indexing Strategy"})," - Inverted indexes and bloom filters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/compression",children:"Compression"})," - Compression algorithms and ratios"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/query-execution",children:"Query Execution"})," - Query processing pipeline"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/spectre/docs/architecture/data-flow",children:"Data Flow"})," - Detailed write and read paths"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);