"use strict";(globalThis.webpackChunkspectre_docs=globalThis.webpackChunkspectre_docs||[]).push([[4224],{8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var s=r(6540);const i={},t=s.createContext(i);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},9295:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"configuration/mcp-configuration","title":"MCP Configuration","description":"Deploy and configure the Model Context Protocol server","source":"@site/docs/configuration/mcp-configuration.md","sourceDirName":"configuration","slug":"/configuration/mcp-configuration","permalink":"/spectre/docs/configuration/mcp-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/moolen/spectre/tree/master/docs/docs/configuration/mcp-configuration.md","tags":[],"version":"current","lastUpdatedBy":"Moritz Johner","lastUpdatedAt":1765616329000,"frontMatter":{"title":"MCP Configuration","description":"Deploy and configure the Model Context Protocol server","keywords":["mcp","ai","claude","configuration","deployment","sidecar","helm"]},"sidebar":"docsSidebar","previous":{"title":"Storage Settings","permalink":"/spectre/docs/configuration/storage-settings"},"next":{"title":"User Guide","permalink":"/spectre/docs/user-guide/"}}');var i=r(4848),t=r(8453);const l={title:"MCP Configuration",description:"Deploy and configure the Model Context Protocol server",keywords:["mcp","ai","claude","configuration","deployment","sidecar","helm"]},c="MCP Configuration",o={},d=[{value:"Overview",id:"overview",level:2},{value:"What is the MCP Server?",id:"what-is-the-mcp-server",level:3},{value:"Architecture",id:"architecture",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Enabling in Helm (Sidecar Mode)",id:"enabling-in-helm-sidecar-mode",level:3},{value:"Configuration Reference",id:"configuration-reference",level:2},{value:"CLI Flags",id:"cli-flags",level:3},{value:"Endpoints",id:"endpoints",level:3},{value:"Transport Modes",id:"transport-modes",level:2},{value:"HTTP Transport (Default)",id:"http-transport-default",level:3},{value:"Stdio Transport",id:"stdio-transport",level:3},{value:"Deployment Patterns",id:"deployment-patterns",level:2},{value:"Sidecar Mode (Recommended)",id:"sidecar-mode-recommended",level:3},{value:"Standalone Mode",id:"standalone-mode",level:3},{value:"Resource Planning",id:"resource-planning",level:2},{value:"Memory Requirements",id:"memory-requirements",level:3},{value:"CPU Requirements",id:"cpu-requirements",level:3},{value:"Scaling Considerations",id:"scaling-considerations",level:3},{value:"Security",id:"security",level:2},{value:"Network Policies",id:"network-policies",level:3},{value:"RBAC",id:"rbac",level:3},{value:"Authentication and Authorization",id:"authentication-and-authorization",level:3},{value:"TLS/Encryption",id:"tlsencryption",level:3},{value:"Health Monitoring",id:"health-monitoring",level:2},{value:"Health Endpoint",id:"health-endpoint",level:3},{value:"Kubernetes Probes",id:"kubernetes-probes",level:3},{value:"Logging",id:"logging",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Connection Failures",id:"connection-failures",level:3},{value:"Tool Execution Errors",id:"tool-execution-errors",level:3},{value:"Pod CrashLoopBackOff",id:"pod-crashloopbackoff",level:3},{value:"Health Check Failures",id:"health-check-failures",level:3},{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Development (Local)",id:"development-local",level:3},{value:"Production (Sidecar)",id:"production-sidecar",level:3},{value:"Production (Standalone with Monitoring)",id:"production-standalone-with-monitoring",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 Do",id:"-do",level:3},{value:"\u274c Don&#39;t",id:"-dont",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"mcp-configuration",children:"MCP Configuration"})}),"\n",(0,i.jsx)(n.p,{children:"This guide explains how to deploy and configure Spectre's MCP (Model Context Protocol) server for AI-assisted incident investigation."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-the-mcp-server",children:"What is the MCP Server?"}),"\n",(0,i.jsx)(n.p,{children:"The MCP server is a separate component that exposes Spectre's Kubernetes event data through the standardized Model Context Protocol (JSON-RPC 2.0). It enables AI assistants like Claude to help with:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Automated incident investigation"}),"\n",(0,i.jsx)(n.li,{children:"Root cause analysis"}),"\n",(0,i.jsx)(n.li,{children:"Post-mortem report generation"}),"\n",(0,i.jsx)(n.li,{children:"Real-time incident triage"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 AI Assistant    \u2502 (Claude Desktop, API clients, etc.)\n\u2502  (MCP Client)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 JSON-RPC (HTTP or stdio)\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Spectre MCP    \u2502\n\u2502     Server      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 HTTP\n         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Spectre API    \u2502\n\u2502   (Main App)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n   Kubernetes Events\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Key Characteristics"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Protocol"}),": MCP 2024-11-05 (JSON-RPC 2.0)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Transport Modes"}),": HTTP (default) or stdio"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deployment"}),": Sidecar (recommended) or standalone"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Communication"}),": Connects to Spectre API server"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsx)(n.h3,{id:"enabling-in-helm-sidecar-mode",children:"Enabling in Helm (Sidecar Mode)"}),"\n",(0,i.jsx)(n.p,{children:"The simplest way to enable MCP is via the Helm chart sidecar configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# values.yaml\nmcp:\n  enabled: true\n  spectreURL: "http://localhost:8080"  # Main container via localhost\n  httpAddr: ":8081"\n  port: 8081\n'})}),"\n",(0,i.jsx)(n.p,{children:"Deploy or upgrade:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm upgrade --install spectre ./chart \\\n  --set mcp.enabled=true \\\n  --namespace monitoring\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verification"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Check MCP sidecar is running\nkubectl get pods -n monitoring -l app.kubernetes.io/name=spectre\n\n# Test health endpoint\nkubectl port-forward -n monitoring svc/spectre-mcp 8081:8081\ncurl http://localhost:8081/health\n# {"status":"ok"}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-reference",children:"Configuration Reference"}),"\n",(0,i.jsx)(n.h3,{id:"cli-flags",children:"CLI Flags"}),"\n",(0,i.jsx)(n.p,{children:"When running MCP server standalone:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Flag"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--spectre-url"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http://localhost:8080"})}),(0,i.jsxs)(n.td,{children:["URL to Spectre API server (env: ",(0,i.jsx)(n.code,{children:"SPECTRE_URL"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--http-addr"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":8081"})}),(0,i.jsxs)(n.td,{children:["HTTP server address (env: ",(0,i.jsx)(n.code,{children:"MCP_HTTP_ADDR"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--transport"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"http"})}),(0,i.jsxs)(n.td,{children:["Transport type: ",(0,i.jsx)(n.code,{children:"http"})," or ",(0,i.jsx)(n.code,{children:"stdio"})]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Endpoint"}),(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/mcp"})}),(0,i.jsx)(n.td,{children:"POST"}),(0,i.jsx)(n.td,{children:"Main MCP JSON-RPC endpoint"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/health"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsxs)(n.td,{children:["Health check (returns ",(0,i.jsx)(n.code,{children:'{"status":"ok"}'}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Server info (name and version)"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"transport-modes",children:"Transport Modes"}),"\n",(0,i.jsx)(n.h3,{id:"http-transport-default",children:"HTTP Transport (Default)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use Case"}),": Independent deployment, cloud environments, multi-cluster access"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HTTP server on configurable port (default: 8081)"}),"\n",(0,i.jsx)(n.li,{children:"JSON-RPC 2.0 over HTTP POST"}),"\n",(0,i.jsx)(n.li,{children:"Stateless request/response"}),"\n",(0,i.jsx)(n.li,{children:"Suitable for remote clients"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Helm sidecar (default)\nmcp:\n  enabled: true\n  httpAddr: ":8081"\n\n# Standalone CLI\nspectre mcp --transport=http --http-addr=:8081 --spectre-url=http://spectre-api:8080\n'})}),"\n",(0,i.jsx)(n.h3,{id:"stdio-transport",children:"Stdio Transport"}),"\n",(0,i.jsx)(n.p,{children:"You can also use stdio-based transport if you don't want to use HTTP."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre mcp --transport=stdio --spectre-url=http://localhost:8080\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use with Claude Desktop"}),":"]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"../mcp-integration/claude-integration",children:"Claude Integration"})," for complete setup."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Limitations"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No HTTP endpoints (health checks not available)"}),"\n",(0,i.jsx)(n.li,{children:"Subprocess mode only"}),"\n",(0,i.jsx)(n.li,{children:"Requires process spawning capability"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"deployment-patterns",children:"Deployment Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"sidecar-mode-recommended",children:"Sidecar Mode (Recommended)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why Sidecar"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Shared network namespace (localhost communication to Spectre API)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Simplest configuration"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Automatic lifecycle management"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Resource limits per pod"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Same security context as main container"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Architecture"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Pod: spectre                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Container:  \u2502      \u2502   Container:    \u2502 \u2502\n\u2502  \u2502   spectre    \u2502\u25c4\u2500\u2500\u2500\u2500\u25ba\u2502   spectre-mcp   \u2502 \u2502\n\u2502  \u2502  (port 8080) \u2502 localhost  (port 8081) \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# values.yaml\nmcp:\n  enabled: true\n  spectreURL: "http://localhost:8080"  # Localhost within pod\n  port: 8081\n  resources:\n    requests:\n      memory: "64Mi"\n      cpu: "50m"\n    limits:\n      memory: "256Mi"\n      cpu: "200m"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"standalone-mode",children:"Standalone Mode"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When to Use"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Separate scaling requirements (MCP and Spectre scale independently)"}),"\n",(0,i.jsx)(n.li,{children:"Multi-cluster support (one MCP server, multiple Spectre instances)"}),"\n",(0,i.jsx)(n.li,{children:"Cloud MCP services (external AI platforms)"}),"\n",(0,i.jsx)(n.li,{children:"Development/testing isolation"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Architecture"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Pod: spectre  \u2502      \u2502 Pod: mcp      \u2502\n\u2502 (port 8080)   \u2502\u25c4\u2500\u2500\u2500\u2500\u25ba\u2502 (port 8081)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 http \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Network Configuration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Ensure network policy allows MCP \u2192 Spectre traffic\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: spectre-mcp-access\n  namespace: monitoring\nspec:\n  podSelector:\n    matchLabels:\n      app.kubernetes.io/name: spectre\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: spectre-mcp\n    ports:\n    - protocol: TCP\n      port: 8080\n"})}),"\n",(0,i.jsx)(n.h2,{id:"resource-planning",children:"Resource Planning"}),"\n",(0,i.jsx)(n.h3,{id:"memory-requirements",children:"Memory Requirements"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Component"}),(0,i.jsx)(n.th,{children:"Typical"}),(0,i.jsx)(n.th,{children:"Peak"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Base memory"}),(0,i.jsx)(n.td,{children:"40-50 Mi"}),(0,i.jsx)(n.td,{children:"60-80 Mi"}),(0,i.jsx)(n.td,{children:"Idle server"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Per request"}),(0,i.jsx)(n.td,{children:"+5-10 Mi"}),(0,i.jsx)(n.td,{children:"+20 Mi"}),(0,i.jsx)(n.td,{children:"Active investigation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Total (sidecar)"}),(0,i.jsx)(n.td,{children:"64 Mi request"}),(0,i.jsx)(n.td,{children:"256 Mi limit"}),(0,i.jsx)(n.td,{children:"Recommended"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Total (standalone)"}),(0,i.jsx)(n.td,{children:"128 Mi request"}),(0,i.jsx)(n.td,{children:"512 Mi limit"}),(0,i.jsx)(n.td,{children:"Higher concurrency"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Factors"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Number of concurrent MCP sessions"}),"\n",(0,i.jsx)(n.li,{children:"Query time ranges (wider = more memory)"}),"\n",(0,i.jsx)(n.li,{children:"Result set sizes (filtered queries use less memory)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cpu-requirements",children:"CPU Requirements"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Workload"}),(0,i.jsx)(n.th,{children:"CPU Request"}),(0,i.jsx)(n.th,{children:"CPU Limit"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Low (1-2 queries/min)"}),(0,i.jsx)(n.td,{children:"50m"}),(0,i.jsx)(n.td,{children:"200m"}),(0,i.jsx)(n.td,{children:"Single user"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Medium (5-10 queries/min)"}),(0,i.jsx)(n.td,{children:"100m"}),(0,i.jsx)(n.td,{children:"500m"}),(0,i.jsx)(n.td,{children:"Team usage"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"High (20+ queries/min)"}),(0,i.jsx)(n.td,{children:"250m"}),(0,i.jsx)(n.td,{children:"1000m"}),(0,i.jsx)(n.td,{children:"Automated analysis"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CPU Usage"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Mostly idle (waiting for Spectre API responses)"}),"\n",(0,i.jsx)(n.li,{children:"Bursts during JSON parsing/serialization"}),"\n",(0,i.jsx)(n.li,{children:"Minimal CPU for typical AI-assistant workloads"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"scaling-considerations",children:"Scaling Considerations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Vertical Scaling"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Increase memory limits for larger query results"}),"\n",(0,i.jsx)(n.li,{children:"Increase CPU for high-concurrency scenarios"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Horizontal Scaling"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"MCP server is stateless (safe to scale horizontally)"}),"\n",(0,i.jsx)(n.li,{children:"Load balance across multiple MCP pods"}),"\n",(0,i.jsx)(n.li,{children:"No session affinity required"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,i.jsx)(n.h3,{id:"network-policies",children:"Network Policies"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Restrict MCP Port Access"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Only allow internal cluster access to MCP\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: spectre-mcp-ingress\n  namespace: monitoring\nspec:\n  podSelector:\n    matchLabels:\n      app.kubernetes.io/name: spectre\n      app.kubernetes.io/component: mcp\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - namespaceSelector:\n        matchLabels:\n          name: monitoring\n    ports:\n    - protocol: TCP\n      port: 8081\n"})}),"\n",(0,i.jsx)(n.h3,{id:"rbac",children:"RBAC"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"MCP Server Permissions"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 No direct Kubernetes API access required"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Communicates only with Spectre API"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Spectre API enforces access control"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"User Access Control"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["MCP server itself has ",(0,i.jsx)(n.strong,{children:"no authentication"})," in v1.0"]}),"\n",(0,i.jsx)(n.li,{children:"Access control via network policies and service exposure"}),"\n",(0,i.jsx)(n.li,{children:"For production: place behind authenticated proxy/gateway"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"authentication-and-authorization",children:"Authentication and Authorization"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Current State (v1.0)"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c No built-in authentication"}),"\n",(0,i.jsx)(n.li,{children:"\u274c No API key support"}),"\n",(0,i.jsx)(n.li,{children:"\u26a0\ufe0f Secure via network policies only"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Future (v2.0 planned)"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"API key authentication"}),"\n",(0,i.jsx)(n.li,{children:"Per-client access control"}),"\n",(0,i.jsx)(n.li,{children:"Audit logging"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Workarounds for v1.0"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network Isolation"}),": Don't expose MCP port publicly"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authenticated Proxy"}),": Use nginx/Envoy with auth"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"VPN/Bastion"}),": Require VPN access to MCP endpoint"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"tlsencryption",children:"TLS/Encryption"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HTTP Transport"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Currently plain HTTP"}),"\n",(0,i.jsx)(n.li,{children:"Add TLS via ingress controller or reverse proxy"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example: Nginx Ingress with TLS"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: spectre-mcp\n  namespace: monitoring\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    nginx.ingress.kubernetes.io/auth-type: basic\n    nginx.ingress.kubernetes.io/auth-secret: mcp-basic-auth\nspec:\n  tls:\n  - hosts:\n    - mcp.example.com\n    secretName: mcp-tls\n  rules:\n  - host: mcp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: spectre-mcp\n            port:\n              number: 8081\n"})}),"\n",(0,i.jsx)(n.h2,{id:"health-monitoring",children:"Health Monitoring"}),"\n",(0,i.jsx)(n.h3,{id:"health-endpoint",children:"Health Endpoint"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"GET /health"}),"\n",(0,i.jsx)(n.strong,{children:"Response"}),": ",(0,i.jsx)(n.code,{children:'{"status":"ok"}'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Usage"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Direct check\ncurl http://spectre-mcp:8081/health\n\n# Port-forward check\nkubectl port-forward -n monitoring svc/spectre-mcp 8081:8081\ncurl http://localhost:8081/health\n"})}),"\n",(0,i.jsx)(n.h3,{id:"kubernetes-probes",children:"Kubernetes Probes"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Liveness Probe"})," (default configuration):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"livenessProbe:\n  httpGet:\n    path: /health\n    port: 8081\n  initialDelaySeconds: 5\n  periodSeconds: 10\n  timeoutSeconds: 3\n  failureThreshold: 3\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Restart unhealthy MCP containers"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Readiness Probe"})," (default configuration):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"readinessProbe:\n  httpGet:\n    path: /health\n    port: 8081\n  initialDelaySeconds: 3\n  periodSeconds: 5\n  timeoutSeconds: 2\n  failureThreshold: 3\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Remove unready pods from service endpoints"]}),"\n",(0,i.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Output"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HTTP transport: Logs to container stdout/stderr"}),"\n",(0,i.jsx)(n.li,{children:"Stdio transport: Logs to stderr (stdout reserved for MCP protocol)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Viewing Logs"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Sidecar logs\nkubectl logs -n monitoring <pod-name> -c spectre-mcp\n\n# Standalone logs\nkubectl logs -n monitoring -l app=spectre-mcp\n\n# Follow logs\nkubectl logs -n monitoring <pod-name> -c spectre-mcp -f\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Levels"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Controlled by main Spectre log level configuration"}),"\n",(0,i.jsx)(n.li,{children:"Includes: connection events, tool calls, errors"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"connection-failures",children:"Connection Failures"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": MCP server cannot connect to Spectre API"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Check"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# From MCP pod, test Spectre API reachability\nkubectl exec -n monitoring <pod-name> -c spectre-mcp -- \\\n  curl http://localhost:8080/api/v1/metadata\n\n# Check logs for connection errors\nkubectl logs -n monitoring <pod-name> -c spectre-mcp | grep -i error\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c Spectre API not running"}),"\n",(0,i.jsxs)(n.li,{children:["\u274c Incorrect ",(0,i.jsx)(n.code,{children:"spectreURL"})," configuration"]}),"\n",(0,i.jsx)(n.li,{children:"\u274c Network policy blocking traffic"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Spectre API authentication required (not supported in v1.0)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Verify Spectre main container is healthy"}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.code,{children:"spectreURL"})," in values.yaml (should be ",(0,i.jsx)(n.code,{children:"http://localhost:8080"})," for sidecar)"]}),"\n",(0,i.jsx)(n.li,{children:"Review network policies"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"tool-execution-errors",children:"Tool Execution Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": MCP tools return errors or empty results"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Check"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Test Spectre API directly\ncurl "http://spectre-api:8080/api/v1/query?kind=Pod&time=\\[now-1h,now\\]"\n\n# Check Spectre has data\nkubectl logs -n monitoring <spectre-pod> | grep "events written"\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c No events in Spectre for query time range"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Namespace doesn't exist"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Spectre API timeout (large queries)"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Invalid time format"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Verify Spectre is collecting events"}),"\n",(0,i.jsx)(n.li,{children:"Check time range is within Spectre retention"}),"\n",(0,i.jsx)(n.li,{children:"Use namespace and time filters to reduce query scope"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"pod-crashloopbackoff",children:"Pod CrashLoopBackOff"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": MCP container repeatedly crashes"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Check"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl describe pod -n monitoring <pod-name>\nkubectl logs -n monitoring <pod-name> -c spectre-mcp --previous\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c Out of memory (query results too large)"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Cannot bind to port (port conflict)"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Missing required configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Increase memory limits"}),"\n",(0,i.jsxs)(n.li,{children:["Verify ",(0,i.jsx)(n.code,{children:"httpAddr"})," port is not in use"]}),"\n",(0,i.jsx)(n.li,{children:"Check all required flags are set"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"health-check-failures",children:"Health Check Failures"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Liveness/readiness probes failing"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Check"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Manual health check\nkubectl exec -n monitoring <pod-name> -c spectre-mcp -- \\\n  curl -f http://localhost:8081/health\n\n# Check probe configuration\nkubectl get pod -n monitoring <pod-name> -o yaml | grep -A 10 livenessProbe\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c MCP server not started"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Port mismatch in probe configuration"}),"\n",(0,i.jsx)(n.li,{children:"\u274c HTTP server crash"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Review startup logs for errors"}),"\n",(0,i.jsxs)(n.li,{children:["Verify probe port matches ",(0,i.jsx)(n.code,{children:"httpAddr"})]}),"\n",(0,i.jsx)(n.li,{children:"Check resource limits (CPU throttling can delay startup)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,i.jsx)(n.h3,{id:"development-local",children:"Development (Local)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Port-forward for local access"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Deploy with Helm\nhelm install spectre ./chart --set mcp.enabled=true\n\n# Port-forward MCP\nkubectl port-forward -n default svc/spectre 8081:8081\n\n# Test\ncurl http://localhost:8081/health\n"})}),"\n",(0,i.jsx)(n.h3,{id:"production-sidecar",children:"Production (Sidecar)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Full Helm values"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# values.yaml\nmcp:\n  enabled: true\n  spectreURL: "http://localhost:8080"\n  httpAddr: ":8081"\n  port: 8081\n\n  resources:\n    requests:\n      memory: "128Mi"\n      cpu: "100m"\n    limits:\n      memory: "512Mi"\n      cpu: "500m"\n\n  securityContext:\n    allowPrivilegeEscalation: false\n    capabilities:\n      drop: ["ALL"]\n    runAsNonRoot: true\n    runAsUser: 1000\n\n  livenessProbe:\n    enabled: true\n    httpGet:\n      path: /health\n      port: mcp\n    initialDelaySeconds: 10\n    periodSeconds: 15\n    failureThreshold: 3\n\n  readinessProbe:\n    enabled: true\n    httpGet:\n      path: /health\n      port: mcp\n    initialDelaySeconds: 5\n    periodSeconds: 10\n    failureThreshold: 2\n'})}),"\n",(0,i.jsx)(n.h3,{id:"production-standalone-with-monitoring",children:"Production (Standalone with Monitoring)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Deployment with ServiceMonitor"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: spectre-mcp\n  namespace: monitoring\n  labels:\n    app: spectre-mcp\nspec:\n  replicas: 2  # Horizontal scaling\n  selector:\n    matchLabels:\n      app: spectre-mcp\n  template:\n    metadata:\n      labels:\n        app: spectre-mcp\n      annotations:\n        prometheus.io/scrape: "true"\n        prometheus.io/port: "8081"\n    spec:\n      containers:\n      - name: mcp\n        image: ghcr.io/moolen/spectre:latest\n        command: ["/spectre"]\n        args:\n          - "mcp"\n          - "--transport=http"\n          - "--http-addr=:8081"\n        env:\n        - name: SPECTRE_URL\n          valueFrom:\n            configMapKeyRef:\n              name: spectre-config\n              key: api-url\n        ports:\n        - name: mcp\n          containerPort: 8081\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8081\n          initialDelaySeconds: 10\n          periodSeconds: 20\n        readinessProbe:\n          httpGet:\n            path: /health\n            port: 8081\n          initialDelaySeconds: 5\n          periodSeconds: 10\n        resources:\n          requests:\n            memory: "256Mi"\n            cpu: "200m"\n          limits:\n            memory: "1Gi"\n            cpu: "1000m"\n        securityContext:\n          allowPrivilegeEscalation: false\n          runAsNonRoot: true\n          runAsUser: 1000\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"-do",children:"\u2705 Do"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use sidecar mode"})," for simplicity and localhost communication"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Set resource limits"})," to prevent runaway memory usage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enable health probes"})," for automatic failure recovery"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use HTTP transport"})," for cloud deployments and remote access"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitor MCP logs"})," for errors and tool execution patterns"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Place behind authenticated proxy"})," if exposing externally"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-dont",children:"\u274c Don't"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't expose MCP port publicly"})," without authentication (no built-in auth in v1.0)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't run without resource limits"})," (queries can consume memory)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't skip health probes"})," (prevents automatic recovery)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't use stdio transport"})," in Kubernetes (HTTP is better for deployments)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't set spectreURL to remote host"})," in sidecar mode (should be localhost)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't expect real-time log access"})," via MCP (only Kubernetes events, not pod logs)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../mcp-integration/getting-started",children:"Getting Started with MCP"})," - Setup and first investigation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../mcp-integration/claude-integration",children:"Claude Integration"})," - Claude Desktop configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../mcp-integration/tools-reference/cluster-health",children:"Tools Reference"})," - Available MCP tools"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../reference/helm-values",children:"Helm Values Reference"})," - Complete Helm chart values"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);