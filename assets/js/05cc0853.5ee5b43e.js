"use strict";(globalThis.webpackChunkspectre_docs=globalThis.webpackChunkspectre_docs||[]).push([[1408],{4124:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"configuration/storage-settings","title":"Storage Settings","description":"Configure storage, compression, and cache settings","source":"@site/docs/configuration/storage-settings.md","sourceDirName":"configuration","slug":"/configuration/storage-settings","permalink":"/spectre/docs/configuration/storage-settings","draft":false,"unlisted":false,"editUrl":"https://github.com/moolen/spectre/tree/master/docs/docs/configuration/storage-settings.md","tags":[],"version":"current","lastUpdatedBy":"Moritz Johner","lastUpdatedAt":1765616329000,"frontMatter":{"title":"Storage Settings","description":"Configure storage, compression, and cache settings","keywords":["storage","configuration","cache","performance","disk"]},"sidebar":"docsSidebar","previous":{"title":"Watcher Configuration","permalink":"/spectre/docs/configuration/watcher-config"},"next":{"title":"MCP Configuration","permalink":"/spectre/docs/configuration/mcp-configuration"}}');var i=s(4848),l=s(8453);const c={title:"Storage Settings",description:"Configure storage, compression, and cache settings",keywords:["storage","configuration","cache","performance","disk"]},d="Storage Settings",t={},o=[{value:"Overview",id:"overview",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Default Configuration",id:"default-configuration",level:3},{value:"Minimal Configuration",id:"minimal-configuration",level:3},{value:"Storage Directory",id:"storage-directory",level:2},{value:"Configuration",id:"configuration",level:3},{value:"File Organization",id:"file-organization",level:3},{value:"Directory Requirements",id:"directory-requirements",level:3},{value:"Environment-Specific Examples",id:"environment-specific-examples",level:3},{value:"Block Size Configuration",id:"block-size-configuration",level:2},{value:"Configuration",id:"configuration-1",level:3},{value:"How Block Size Affects Performance",id:"how-block-size-affects-performance",level:3},{value:"Events Per Block",id:"events-per-block",level:3},{value:"Configuration Examples",id:"configuration-examples",level:3},{value:"Block Cache Configuration",id:"block-cache-configuration",level:2},{value:"Configuration",id:"configuration-2",level:3},{value:"Cache Behavior",id:"cache-behavior",level:3},{value:"Performance Impact",id:"performance-impact",level:3},{value:"Memory Usage",id:"memory-usage",level:3},{value:"Configuration Examples",id:"configuration-examples-1",level:3},{value:"Disk Space Planning",id:"disk-space-planning",level:2},{value:"Storage Formula",id:"storage-formula",level:3},{value:"Event Rate Scenarios",id:"event-rate-scenarios",level:3},{value:"Retention Planning",id:"retention-planning",level:3},{value:"Monitoring Disk Usage",id:"monitoring-disk-usage",level:3},{value:"Compression Settings",id:"compression-settings",level:2},{value:"Configuration",id:"configuration-3",level:3},{value:"Compression Performance",id:"compression-performance",level:3},{value:"Import/Export Configuration",id:"importexport-configuration",level:2},{value:"Bulk Import",id:"bulk-import",level:3},{value:"Configuration Examples",id:"configuration-examples-2",level:2},{value:"Development (Local)",id:"development-local",level:3},{value:"Production (Medium Cluster)",id:"production-medium-cluster",level:3},{value:"Production (High Volume)",id:"production-high-volume",level:3},{value:"Resource-Constrained (Edge)",id:"resource-constrained-edge",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Disk Full",id:"disk-full",level:3},{value:"Slow Queries",id:"slow-queries",level:3},{value:"High Memory Usage",id:"high-memory-usage",level:3},{value:"Import Failures",id:"import-failures",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 Do",id:"-do",level:3},{value:"\u274c Don&#39;t",id:"-dont",level:3},{value:"Performance Tuning",id:"performance-tuning",level:2},{value:"Read-Heavy Workload (Dashboards)",id:"read-heavy-workload-dashboards",level:3},{value:"Write-Heavy Workload (Large Clusters)",id:"write-heavy-workload-large-clusters",level:3},{value:"Balanced Workload (Most Clusters)",id:"balanced-workload-most-clusters",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"storage-settings",children:"Storage Settings"})}),"\n",(0,i.jsx)(n.p,{children:"This guide explains how to configure Spectre's storage system for optimal performance and disk usage."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Spectre's storage system provides:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Persistent event storage"})," with efficient compression (75% reduction)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fast query access"})," through inverted indexes and Bloom filters"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configurable caching"})," for improved query performance"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hourly file rotation"})," for flexible retention management"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"For most users:"})," Default settings work well. Only adjust for specific needs (high volume, low disk space, read-heavy workloads)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"For technical details:"})," See ",(0,i.jsx)(n.a,{href:"/spectre/docs/architecture/storage-design",children:"Storage Design"})]}),"\n",(0,i.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsx)(n.h3,{id:"default-configuration",children:"Default Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server \\\n  --data-dir=/data \\\n  --segment-size=10485760 \\\n  --cache-enabled=true \\\n  --cache-max-mb=100\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What this provides:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Events stored in ",(0,i.jsx)(n.code,{children:"/data"})," directory"]}),"\n",(0,i.jsx)(n.li,{children:"10 MB blocks (balanced compression and query speed)"}),"\n",(0,i.jsx)(n.li,{children:"100 MB cache (improves repeated queries by 3\xd7)"}),"\n",(0,i.jsx)(n.li,{children:"~75% disk space savings from compression"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"minimal-configuration",children:"Minimal Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --data-dir=./data\n"})}),"\n",(0,i.jsx)(n.p,{children:"All other settings use defaults."}),"\n",(0,i.jsx)(n.h2,{id:"storage-directory",children:"Storage Directory"}),"\n",(0,i.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Flag:"})," ",(0,i.jsx)(n.code,{children:"--data-dir"}),"\n",(0,i.jsx)(n.strong,{children:"Type:"})," String\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"/data"}),"\n",(0,i.jsx)(n.strong,{children:"Required:"})," Yes"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Directory where event files are stored"]}),"\n",(0,i.jsx)(n.h3,{id:"file-organization",children:"File Organization"}),"\n",(0,i.jsx)(n.p,{children:"Events are automatically organized into hourly files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/data/\n\u251c\u2500\u2500 2025-12-12-10.bin  # Events from 10:00-10:59\n\u251c\u2500\u2500 2025-12-12-11.bin  # Events from 11:00-11:59\n\u251c\u2500\u2500 2025-12-12-12.bin  # Events from 12:00-12:59 (currently writing)\n\u2514\u2500\u2500 ...\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File Naming:"})," ",(0,i.jsx)(n.code,{children:"YYYY-MM-DD-HH.bin"}),"\n",(0,i.jsx)(n.strong,{children:"Rotation:"})," Automatic at hour boundaries"]}),"\n",(0,i.jsx)(n.h3,{id:"directory-requirements",children:"Directory Requirements"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Requirement"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Permissions"}),(0,i.jsx)(n.td,{children:"Read/write for Spectre process"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Disk Type"}),(0,i.jsx)(n.td,{children:"SSD recommended (faster queries)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Filesystem"}),(0,i.jsx)(n.td,{children:"ext4, xfs, or any POSIX filesystem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Free Space"}),(0,i.jsx)(n.td,{children:"Plan for retention \xd7 daily event volume"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"environment-specific-examples",children:"Environment-Specific Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Development (local):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --data-dir=./data\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Docker:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run -v /host/data:/data spectre server\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Kubernetes:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: spectre-storage\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 100Gi\n---\nspec:\n  containers:\n  - name: spectre\n    args:\n      - server\n      - --data-dir=/data\n    volumeMounts:\n    - name: storage\n      mountPath: /data\n  volumes:\n  - name: storage\n    persistentVolumeClaim:\n      claimName: spectre-storage\n"})}),"\n",(0,i.jsx)(n.h2,{id:"block-size-configuration",children:"Block Size Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Flag:"})," ",(0,i.jsx)(n.code,{children:"--segment-size"}),"\n",(0,i.jsx)(n.strong,{children:"Type:"})," int64 (bytes)\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"10485760"})," (10 MB)\n",(0,i.jsx)(n.strong,{children:"Range:"})," ",(0,i.jsx)(n.code,{children:"1024"})," (1 KB) to ",(0,i.jsx)(n.code,{children:"1073741824"})," (1 GB)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Target size for uncompressed blocks before compression"]}),"\n",(0,i.jsx)(n.h3,{id:"how-block-size-affects-performance",children:"How Block Size Affects Performance"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Block Size"}),(0,i.jsx)(n.th,{children:"Compression"}),(0,i.jsx)(n.th,{children:"Query Speed"}),(0,i.jsx)(n.th,{children:"Disk I/O"}),(0,i.jsx)(n.th,{children:"Best For"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1 MB"}),(0,i.jsx)(n.td,{children:"Good (65%)"}),(0,i.jsx)(n.td,{children:"Slower"}),(0,i.jsx)(n.td,{children:"More"}),(0,i.jsx)(n.td,{children:"Low event rate"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"10 MB \u2705"}),(0,i.jsx)(n.td,{children:"Better (75%)"}),(0,i.jsx)(n.td,{children:"Balanced"}),(0,i.jsx)(n.td,{children:"Balanced"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Most clusters"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"100 MB"}),(0,i.jsx)(n.td,{children:"Best (78%)"}),(0,i.jsx)(n.td,{children:"Faster"}),(0,i.jsx)(n.td,{children:"Less"}),(0,i.jsx)(n.td,{children:"High volume clusters"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Default (10 MB) provides the best balance for typical Kubernetes clusters."})}),"\n",(0,i.jsx)(n.h3,{id:"events-per-block",children:"Events Per Block"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Formula:"})," ",(0,i.jsx)(n.code,{children:"block_size / average_event_size"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Typical Event Sizes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Full event (with managedFields): ~50 KB"}),"\n",(0,i.jsx)(n.li,{children:"Pruned event (without managedFields): ~12 KB"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1 MB block:  1,048,576 / 12,000 \u2248 87 events\n10 MB block: 10,485,760 / 12,000 \u2248 874 events\n100 MB block: 104,857,600 / 12,000 \u2248 8,738 events\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Small Cluster (low event rate):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --segment-size=1048576  # 1 MB\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Medium Cluster (default):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --segment-size=10485760  # 10 MB\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Large Cluster (high volume):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --segment-size=104857600  # 100 MB\n"})}),"\n",(0,i.jsx)(n.h2,{id:"block-cache-configuration",children:"Block Cache Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"configuration-2",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Flags:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--cache-enabled"}),": Enable/disable cache (default: ",(0,i.jsx)(n.code,{children:"true"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--cache-max-mb"}),": Maximum cache size in MB (default: ",(0,i.jsx)(n.code,{children:"100"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," Boolean, int64\n",(0,i.jsx)(n.strong,{children:"Purpose:"})," Cache decompressed blocks in memory for faster repeated queries"]}),"\n",(0,i.jsx)(n.h3,{id:"cache-behavior",children:"Cache Behavior"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"What is cached:"})," Decompressed blocks with parsed events\n",(0,i.jsx)(n.strong,{children:"Eviction Policy:"})," LRU (Least Recently Used)\n",(0,i.jsx)(n.strong,{children:"Thread Safety:"})," Concurrent reads supported"]}),"\n",(0,i.jsx)(n.h3,{id:"performance-impact",children:"Performance Impact"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Query Performance (1-hour query, 8 blocks):"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Cache"}),(0,i.jsx)(n.th,{children:"Decompression Time"}),(0,i.jsx)(n.th,{children:"Total Query Time"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"First query"}),(0,i.jsx)(n.td,{children:"Cold"}),(0,i.jsx)(n.td,{children:"240 ms"}),(0,i.jsx)(n.td,{children:"280 ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Repeated query"}),(0,i.jsx)(n.td,{children:"Warm"}),(0,i.jsx)(n.td,{children:"24 ms"}),(0,i.jsx)(n.td,{children:"64 ms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Improvement"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"10\xd7 faster"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"4.4\xd7 faster"})})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Cache Hit Rates:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Repeated queries: 90-95%"}),"\n",(0,i.jsx)(n.li,{children:"Dashboard (5min refresh): 80-85%"}),"\n",(0,i.jsx)(n.li,{children:"Ad-hoc queries: 10-20%"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"memory-usage",children:"Memory Usage"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Formula:"})," Cache memory = number of hot blocks \xd7 block size"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Cache max: 100 MB\nBlock size: 10 MB\nHot blocks: ~10 blocks can fit in cache\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Planning:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Read-light workload: 50-100 MB sufficient\nRead-heavy workload: 200-500 MB recommended\nDashboard queries: 100-200 MB optimal\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration-examples-1",children:"Configuration Examples"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Disable Cache (memory-constrained):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --cache-enabled=false\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Default Cache:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --cache-enabled=true --cache-max-mb=100\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Large Cache (read-heavy workload):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --cache-enabled=true --cache-max-mb=500\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Kubernetes Resource Limits:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'resources:\n  requests:\n    memory: "256Mi"  # Base memory\n  limits:\n    memory: "756Mi"  # Base (256) + Cache (500)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"disk-space-planning",children:"Disk Space Planning"}),"\n",(0,i.jsx)(n.h3,{id:"storage-formula",children:"Storage Formula"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"disk_per_hour = events_per_hour \xd7 avg_event_size \xd7 compression_ratio\ndisk_per_day = disk_per_hour \xd7 24\ndisk_total = disk_per_day \xd7 retention_days\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Assumptions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Average event size: 12 KB (after managedFields pruning)"}),"\n",(0,i.jsx)(n.li,{children:"Compression ratio: 0.25 (75% reduction)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"event-rate-scenarios",children:"Event Rate Scenarios"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Cluster Size"}),(0,i.jsx)(n.th,{children:"Events/Min"}),(0,i.jsx)(n.th,{children:"Events/Hour"}),(0,i.jsx)(n.th,{children:"Raw/Hour"}),(0,i.jsx)(n.th,{children:"Compressed/Hour"}),(0,i.jsx)(n.th,{children:"Daily"}),(0,i.jsx)(n.th,{children:"7 Days"}),(0,i.jsx)(n.th,{children:"30 Days"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Small"}),(0,i.jsx)(n.td,{children:"10"}),(0,i.jsx)(n.td,{children:"600"}),(0,i.jsx)(n.td,{children:"7.2 MB"}),(0,i.jsx)(n.td,{children:"1.8 MB"}),(0,i.jsx)(n.td,{children:"43 MB"}),(0,i.jsx)(n.td,{children:"301 MB"}),(0,i.jsx)(n.td,{children:"1.3 GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Medium"}),(0,i.jsx)(n.td,{children:"100"}),(0,i.jsx)(n.td,{children:"6,000"}),(0,i.jsx)(n.td,{children:"72 MB"}),(0,i.jsx)(n.td,{children:"18 MB"}),(0,i.jsx)(n.td,{children:"432 MB"}),(0,i.jsx)(n.td,{children:"3 GB"}),(0,i.jsx)(n.td,{children:"13 GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Large"}),(0,i.jsx)(n.td,{children:"1,000"}),(0,i.jsx)(n.td,{children:"60,000"}),(0,i.jsx)(n.td,{children:"720 MB"}),(0,i.jsx)(n.td,{children:"180 MB"}),(0,i.jsx)(n.td,{children:"4.3 GB"}),(0,i.jsx)(n.td,{children:"30 GB"}),(0,i.jsx)(n.td,{children:"130 GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Very Large"}),(0,i.jsx)(n.td,{children:"10,000"}),(0,i.jsx)(n.td,{children:"600,000"}),(0,i.jsx)(n.td,{children:"7.2 GB"}),(0,i.jsx)(n.td,{children:"1.8 GB"}),(0,i.jsx)(n.td,{children:"43 GB"}),(0,i.jsx)(n.td,{children:"301 GB"}),(0,i.jsx)(n.td,{children:"1.3 TB"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Recommendation:"})," Add 20% buffer for overhead (indexes, metadata, state snapshots)"]}),"\n",(0,i.jsx)(n.h3,{id:"retention-planning",children:"Retention Planning"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example (Medium Cluster):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Daily storage: 432 MB\n\nRetention policies:\n  7 days:   432 MB \xd7 7 = 3 GB\n  30 days:  432 MB \xd7 30 = 13 GB\n  90 days:  432 MB \xd7 90 = 39 GB\n  1 year:   432 MB \xd7 365 = 158 GB\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"PVC Sizing (Kubernetes):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Medium cluster, 30-day retention:\n  Data: 13 GB\n  Buffer: 20% = 2.6 GB\n  Total: 16 GB \u2192 Request 20 GB PVC\n"})}),"\n",(0,i.jsx)(n.h3,{id:"monitoring-disk-usage",children:"Monitoring Disk Usage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check current usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"du -sh /data\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"List hourly files:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -lh /data/*.bin\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Count events per file (requires jq):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/api/v1/storage/stats\n"})}),"\n",(0,i.jsx)(n.h2,{id:"compression-settings",children:"Compression Settings"}),"\n",(0,i.jsx)(n.h3,{id:"configuration-3",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Compression is automatic and not configurable via flags."})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Algorithm:"})," gzip (level 6)\n",(0,i.jsx)(n.strong,{children:"Library:"})," klauspost/compress/gzip\n",(0,i.jsx)(n.strong,{children:"Typical Ratio:"})," 0.25 (75% reduction)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," File header defines compression algorithm, but only gzip is implemented in v1.0. zstd planned for v2.0."]}),"\n",(0,i.jsx)(n.h3,{id:"compression-performance",children:"Compression Performance"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Metric"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Compression Speed"}),(0,i.jsx)(n.td,{children:"~100 MB/s"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Decompression Speed"}),(0,i.jsx)(n.td,{children:"~300 MB/s"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CPU Usage"}),(0,i.jsx)(n.td,{children:"~10% (single core)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Typical Ratio"}),(0,i.jsx)(n.td,{children:"0.20-0.30"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why these defaults:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"gzip level 6 balances speed and compression"}),"\n",(0,i.jsx)(n.li,{children:"Fast enough for real-time writes"}),"\n",(0,i.jsx)(n.li,{children:"Universal compatibility"}),"\n",(0,i.jsx)(n.li,{children:"Battle-tested in production"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"For details:"})," See ",(0,i.jsx)(n.a,{href:"/spectre/docs/architecture/compression",children:"Compression"})]}),"\n",(0,i.jsx)(n.h2,{id:"importexport-configuration",children:"Import/Export Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"bulk-import",children:"Bulk Import"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Flag:"})," ",(0,i.jsx)(n.code,{children:"--import"}),"\n",(0,i.jsx)(n.strong,{children:"Type:"})," String (file or directory path)\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:'""'})," (disabled)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Import historical events from JSON files at startup"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Import single file:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --import=/backups/events-2025-12-11.json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Import directory:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server --import=/backups/december/\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Progress tracking:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Importing events from directory: /backups/december/\n  [1] Loaded 5000 events from events-01.json\n  [2] Loaded 7500 events from events-02.json\n  [3] Loaded 6200 events from events-03.json\n...\n\nImport Summary:\n  Total Files: 31\n  Imported: 31\n  Total Events: 186,300\n  Duration: 42.5s\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-examples-2",children:"Configuration Examples"}),"\n",(0,i.jsx)(n.h3,{id:"development-local",children:"Development (Local)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Minimal setup for local testing:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server \\\n  --data-dir=./data \\\n  --segment-size=1048576 \\     # 1 MB (faster rotation)\n  --cache-max-mb=50             # 50 MB (low memory)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Storage:"})," ~100 MB/day\n",(0,i.jsx)(n.strong,{children:"Memory:"})," ~100 MB total"]}),"\n",(0,i.jsx)(n.h3,{id:"production-medium-cluster",children:"Production (Medium Cluster)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Balanced configuration for typical workloads:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server \\\n  --data-dir=/mnt/spectre-data \\\n  --segment-size=10485760 \\     # 10 MB (default)\n  --cache-enabled=true \\\n  --cache-max-mb=100 \\          # 100 MB cache\n  --max-concurrent-requests=100\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Storage:"})," ~13 GB/month (30-day retention)\n",(0,i.jsx)(n.strong,{children:"Memory:"})," ~256 MB total"]}),"\n",(0,i.jsx)(n.h3,{id:"production-high-volume",children:"Production (High Volume)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Optimized for large clusters:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server \\\n  --data-dir=/mnt/spectre-data \\\n  --segment-size=104857600 \\    # 100 MB (better compression)\n  --cache-enabled=true \\\n  --cache-max-mb=500 \\          # 500 MB cache (faster queries)\n  --max-concurrent-requests=200\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Storage:"})," ~130 GB/month (30-day retention)\n",(0,i.jsx)(n.strong,{children:"Memory:"})," ~1 GB total"]}),"\n",(0,i.jsx)(n.h3,{id:"resource-constrained-edge",children:"Resource-Constrained (Edge)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Minimal resources for edge deployments:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"spectre server \\\n  --data-dir=/data \\\n  --segment-size=10485760 \\    # 10 MB\n  --cache-enabled=false \\      # Disable cache (save memory)\n  --max-concurrent-requests=10\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Storage:"})," ~1-5 GB/month\n",(0,i.jsx)(n.strong,{children:"Memory:"})," ~50-100 MB total"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"disk-full",children:"Disk Full"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Write errors in logs"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"no space left on device"})}),"\n",(0,i.jsx)(n.li,{children:"Application crashes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. Check current usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"df -h /data\ndu -sh /data\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. Delete old files manually:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Delete files older than 7 days\nfind /data -name "*.bin" -mtime +7 -delete\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. Increase PVC size (Kubernetes):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl edit pvc spectre-storage\n# Increase storage request\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"4. Reduce retention (future):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Automatic retention not yet implemented\n# Track issue: https://github.com/moolen/spectre/issues/xxx\n"})}),"\n",(0,i.jsx)(n.h3,{id:"slow-queries",children:"Slow Queries"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query latency > 1 second"}),"\n",(0,i.jsx)(n.li,{children:"Timeout errors"}),"\n",(0,i.jsx)(n.li,{children:"High CPU usage"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. Increase cache size:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"--cache-max-mb=200  # or higher\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. Enable cache if disabled:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"--cache-enabled=true\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. Add query filters:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Bad: Query all events\n/api/v1/query?time=[start,end]\n\n# Good: Filter by kind and namespace\n/api/v1/query?time=[start,end]&kind=Pod&namespace=default\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"4. Limit time range:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Bad: Query last 7 days\ntime=[now-7d,now]\n\n# Good: Query last hour\ntime=[now-1h,now]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"high-memory-usage",children:"High Memory Usage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"OOMKilled in Kubernetes"}),"\n",(0,i.jsx)(n.li,{children:"Memory > limits"}),"\n",(0,i.jsx)(n.li,{children:"Swapping"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. Reduce cache size:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"--cache-max-mb=50  # or disable entirely\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. Reduce concurrent requests:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"--max-concurrent-requests=50\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. Increase memory limits (Kubernetes):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'resources:\n  limits:\n    memory: "512Mi"  # Increase as needed\n'})}),"\n",(0,i.jsx)(n.h3,{id:"import-failures",children:"Import Failures"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Symptoms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Import command fails"}),"\n",(0,i.jsx)(n.li,{children:"Partial data loaded"}),"\n",(0,i.jsx)(n.li,{children:"Errors in logs"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common Causes:"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. File format incorrect:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Error: invalid JSON format\nSolution: Ensure files are JSON array of events\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. File permissions:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Fix permissions\nchmod 644 /backups/*.json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. Disk space:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check space before import\ndf -h /data\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"-do",children:"\u2705 Do"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use SSD for data directory"})," - 3-5\xd7 faster queries than HDD"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitor disk usage"})," - Set alerts at 80% capacity"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enable caching for dashboards"})," - Improves repeated query performance"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Plan for retention"})," - Calculate disk needs before deployment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use PersistentVolumes in Kubernetes"})," - Data survives pod restarts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backup regularly"})," - Copy ",(0,i.jsx)(n.code,{children:".bin"})," files for disaster recovery"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-dont",children:"\u274c Don't"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't disable compression"})," - Would use 4\xd7 more disk space (not possible anyway)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't use very small blocks"})," (<1 MB) - Poor compression, large indexes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't use NFS for high-volume"})," - Network latency hurts write performance"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't run without monitoring"})," - Could fill disk unexpectedly"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't share data directory"})," - Multiple Spectre instances will corrupt data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Don't manually edit .bin files"})," - Will corrupt file format"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performance-tuning",children:"Performance Tuning"}),"\n",(0,i.jsx)(n.h3,{id:"read-heavy-workload-dashboards",children:"Read-Heavy Workload (Dashboards)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Increase cache to keep hot data in memory\n--cache-max-mb=500\n\n# Default block size (good query granularity)\n--segment-size=10485760\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Expected:"})," 3-5\xd7 faster repeated queries"]}),"\n",(0,i.jsx)(n.h3,{id:"write-heavy-workload-large-clusters",children:"Write-Heavy Workload (Large Clusters)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Larger blocks (better compression, fewer files)\n--segment-size=104857600\n\n# Moderate cache (writes don't benefit from cache)\n--cache-max-mb=100\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Expected:"})," Better compression ratio (78% vs 75%)"]}),"\n",(0,i.jsx)(n.h3,{id:"balanced-workload-most-clusters",children:"Balanced Workload (Most Clusters)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Use defaults\n--segment-size=10485760\n--cache-max-mb=100\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Expected:"})," Good all-around performance"]}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/spectre/docs/architecture/storage-design",children:"Storage Design"})," - Architecture and design decisions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/spectre/docs/architecture/block-format",children:"Block Format Reference"})," - Binary file format specification"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/spectre/docs/architecture/compression",children:"Compression"})," - Compression algorithms and performance"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/spectre/docs/architecture/query-execution",children:"Query Execution"})," - Query pipeline and optimization"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var r=s(6540);const i={},l=r.createContext(i);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);