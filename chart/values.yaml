nameOverride: ""
fullnameOverride: ""
namespace: monitoring

image:
  repository: spectre
  tag: latest
  pullPolicy: IfNotPresent
  pullSecrets: []

replicaCount: 1

updateStrategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 0
    maxSurge: 1

minReadySeconds: 0

revisionHistoryLimit: 5

resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Service configuration
service:
  type: ClusterIP
  port: 8080
  targetPort: 8080
  annotations: {}
  labels: {}
  loadBalancerIP: ""
  loadBalancerSourceRanges: []
  externalTrafficPolicy: ""
  sessionAffinity: None
  sessionAffinityConfig: {}

# Persistent storage configuration
persistence:
  enabled: true
  size: 10Gi
  mountPath: /data
  # storageClassName: "" # Use default storage class if not specified
  accessModes:
    - ReadWriteOnce
  annotations: {}
  selector: {}
  existingClaim: ""

config:
  logLevel: "info"
  segmentSize: 10485760  # 10MB in bytes
  maxConcurrentRequests: 100
  # Watcher configuration - resources to watch
  # Each resource specifies Group/Version/Kind and optional namespace
  watcher:
    resources:
      - group: ""
        version: "v1"
        kind: "Pod"
      - group: "apps"
        version: "v1"
        kind: "Deployment"
      - group: ""
        version: "v1"
        kind: "Service"
      - group: ""
        version: "v1"
        kind: "Node"
      - group: "apps"
        version: "v1"
        kind: "StatefulSet"
      - group: "apps"
        version: "v1"
        kind: "DaemonSet"
      - group: ""
        version: "v1"
        kind: "ConfigMap"

podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: false
  runAsNonRoot: true
  runAsUser: 1000

livenessProbe:
  enabled: true
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
  successThreshold: 1

readinessProbe:
  enabled: true
  httpGet:
    path: /ready
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3
  successThreshold: 1

startupProbe:
  enabled: false
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 0
  periodSeconds: 10
  timeoutSeconds: 3
  failureThreshold: 30
  successThreshold: 1

podAnnotations: {}
podLabels: {}
priorityClassName: ""
terminationGracePeriodSeconds: 15
dnsPolicy: ClusterFirst
dnsConfig: {}
hostAliases: []
hostNetwork: false
hostPID: false
hostIPC: false
nodeSelector: {}
tolerations: []
affinity: {}
topologySpreadConstraints: []

serviceAccount:
  create: true
  name: ""  # Will use "spectre" if not specified
  annotations: {}
  automountServiceAccountToken: true

extraArgs: []

extraVolumes: []
extraVolumeMounts: []

env: []
envFrom: []
lifecycle: {}
ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: spectre.example.com
      paths:
        - path: /
          pathType: Prefix
  tls: []

serviceMonitor:
  enabled: false
  namespace: ""
  labels: {}
  interval: 30s
  scrapeTimeout: 10s
  path: /metrics
  relabelings: []
  metricRelabelings: []

podDisruptionBudget:
  enabled: false
  minAvailable: 1
