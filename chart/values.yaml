# Default values for spectre Helm chart

# Image configuration
image:
  repository: spectre
  tag: latest
  pullPolicy: IfNotPresent

# Replica count
replicaCount: 1

# Container resource requests and limits
resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Service configuration
service:
  type: ClusterIP
  port: 8080
  targetPort: 8080
  annotations: {}

# Persistent storage configuration
persistence:
  enabled: true
  size: 10Gi
  mountPath: /data
  # storageClassName: "" # Use default storage class if not specified

# Configuration for the application
config:
  logLevel: "info"
  segmentSize: 10485760  # 10MB in bytes
  maxConcurrentRequests: 100
  # Watcher configuration - resources to watch
  # Each resource specifies Group/Version/Kind and optional namespace
  watcher:
    resources:
      - group: ""
        version: "v1"
        kind: "Pod"
      - group: "apps"
        version: "v1"
        kind: "Deployment"
      - group: ""
        version: "v1"
        kind: "Service"
      - group: ""
        version: "v1"
        kind: "Node"
      - group: "apps"
        version: "v1"
        kind: "StatefulSet"
      - group: "apps"
        version: "v1"
        kind: "DaemonSet"
      - group: ""
        version: "v1"
        kind: "ConfigMap"

# Pod security and RBAC
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

# Probes configuration
livenessProbe:
  enabled: true
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

readinessProbe:
  enabled: true
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3

# Pod annotations
podAnnotations: {}

# Node selector for pod scheduling
nodeSelector: {}

# Tolerations for pod scheduling
tolerations: []

# Affinity rules for pod scheduling
affinity: {}

# Namespace where the app is deployed
namespace: monitoring

# Service account configuration
serviceAccount:
  create: true
  name: ""  # Will use "spectre" if not specified

# Override names
nameOverride: ""
fullnameOverride: ""

# Extra configuration for advanced use cases
# extraArgs can be used to add additional command-line arguments
# Example: ["--import=/import-data"]
extraArgs: []

# extraVolumes can be used to mount additional volumes (e.g., ConfigMaps, Secrets)
# Example:
# extraVolumes:
#   - name: import-data
#     configMap:
#       name: import-events
extraVolumes: []

# extraVolumeMounts can be used to mount the extra volumes defined above
# Example:
# extraVolumeMounts:
#   - name: import-data
#     mountPath: /import-data
#     readOnly: true
extraVolumeMounts: []
