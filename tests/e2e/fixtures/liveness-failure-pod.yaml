apiVersion: v1
kind: Pod
metadata:
  name: liveness-test-pod
  labels:
    app: liveness-test
    test-scenario: liveness-probe
spec:
  restartPolicy: Always
  containers:
  - name: app
    image: busybox:latest
    command:
    - sh
    - -c
    - |
      touch /tmp/healthy
      sleep 30
      rm -f /tmp/healthy
      sleep 3600
    livenessProbe:
      exec:
        command:
        - cat
        - /tmp/healthy
      initialDelaySeconds: 5
      periodSeconds: 5
      failureThreshold: 2
    resources:
      requests:
        memory: "32Mi"
        cpu: "50m"
      limits:
        memory: "64Mi"
        cpu: "100m"
